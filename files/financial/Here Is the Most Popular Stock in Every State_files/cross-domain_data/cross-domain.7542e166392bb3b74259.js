(()=>{"use strict";var e={23661:()=>{const e=(()=>{function e(e){const t=new RegExp(`(?:^|;)(?:[ s]*)(?:${e}=)([^;]+)`).exec(document.cookie);return t&&t[1]?t[1]:null}return{get:e,set:function(e,t,o){let s="";if(o){const e=new Date;e.setTime(e.getTime()+60*o*60*24*1e3),s=`; expires=${e.toUTCString()}`}document.cookie=`${e}=${t}${s}; path=/`},clear:function(t){if(e(t)){const e=new Date;return document.cookie=`${t}=0;expires=${e.toUTCString()}; path=/;`,!0}return!1},forToday:function(e,t){const o=`; expires=${new Date((new Date).setHours(23,59,59,999)).toUTCString()}`;document.cookie=`${e}=${t}${o}; path=/`}}})(),t="profile",o="loginType",s="last-update-token",n=function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(localStorage.setItem(s,(new Date).getTime()),i&&localStorage.setItem(o,i),(e=>{localStorage.setItem(t,JSON.stringify(e))})(n),e.set("IR","F",90),e.set("insider_uid",n["https://insider/memberId"],365),1===n["https://insider/enterprise"]&&e.set("_pc_bipf",1,90),n&&"insider"===n["https://insider/userAccessType"]&&e.set("_pc_bipf",1,90),1===n["https://insider/hasPrime"]&&e.set("hasPrime",1,90),1===n["https://insider/hasMobileAccess"]){const t=(e=>{const t=e-Math.floor(Date.now()/1e3);return Math.floor(t/86400)})(n["https://insider/expireAt"]);t>0&&e.set("_pc_bipf",1,t),e.set("hasMobileAccess",1,90)}},i=["businessinsider.com","insider.engineering"];"localhost"===window.location.hostname&&i.push("localhost"),window.location.hostname.includes("insider.engineering")&&i.push("forseti.pages.dev");window.addEventListener("message",(r=>{if(!i.includes((e=>{const t=new URL(e).hostname.split(".");return t.slice(0).slice(-(4===t.length?3:2)).join(".")})(r.origin)))return;const{type:a,profile:c,universalId:l,loginType:p,anonymousId:u}=r.data;switch(a){case"logout":localStorage.removeItem(s),e.clear("hasPrime"),e.clear("userLoggedIn"),localStorage.removeItem(t),localStorage.removeItem(o),localStorage.removeItem("savedArticles"),sessionStorage.removeItem("recentlyLoggedSavedArticles"),e.clear("_pc_bipf"),window.parent.postMessage({type:"logout_complete"},"*");break;case"login":c&&(n(JSON.parse(c),p),window.parent.postMessage({type:"login_complete"},"*"))}l&&(localStorage.setItem("universal_id",l),localStorage.setItem("crossdomain_id_set",1)),u&&localStorage.setItem(`${r.data.resourceName}-anonymous-id`,u)}),!1);const r=localStorage.getItem("universal_id"),a=localStorage.getItem("anonymous_id"),c=window.Fenrir?.config?.resourceName||"";r&&window.parent.postMessage({type:"anonymous-sync",cookieName:"universal_id",cookieValue:r},"*"),c&&window.parent.postMessage({type:"anonymous-sync",cookieName:`${c}-anonymous-id`,cookieValue:a,resource:c},"*")}},t={};function o(s){var n=t[s];if(void 0!==n)return n.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,o),i.exports}o.m=e,o.c=t,o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{o.S={};var e={},t={};o.I=(s,n)=>{n||(n=[]);var i=t[s];if(i||(i=t[s]={}),!(n.indexOf(i)>=0)){if(n.push(i),e[s])return e[s];o.o(o.S,s)||(o.S[s]={});o.S[s];var r=[];return r.length?e[s]=Promise.all(r).then((()=>e[s]=1)):e[s]=1}}})();o(23661)})();